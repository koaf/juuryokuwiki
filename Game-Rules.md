# Game Rules - ゲームルール

## 🎯 重力四目並べとは

重力四目並べ（Connect Four）は、2人用のボードゲームです。交互に石を落とし、縦・横・斜めのいずれかの方向に4つ連続で石を並べた方が勝利します。

## 📐 盤面

```
  1   2   3   4   5   6   7    ← 列番号
┌───┬───┬───┬───┬───┬───┬───┐
│   │   │   │   │   │   │   │  行0
├───┼───┼───┼───┼───┼───┼───┤
│   │   │   │   │   │   │   │  行1
├───┼───┼───┼───┼───┼───┼───┤
│   │   │   │   │   │   │   │  行2
├───┼───┼───┼───┼───┼───┼───┤
│   │   │   │   │   │   │   │  行3
├───┼───┼───┼───┼───┼───┼───┤
│   │   │   │   │   │   │   │  行4
├───┼───┼───┼───┼───┼───┼───┤
│   │   │   │   │   │   │   │  行5（底）
└───┴───┴───┴───┴───┴───┴───┘
```

- **行数**: 6行
- **列数**: 7列
- **勝利条件**: 4つ連続で並べる

## 🎮 ゲームの流れ

### 1. 先手後手の決定
ゲーム開始時にランダムで先手・後手が決まります。

- **先手**: ○（赤い石）
- **後手**: ×（青い石）

### 2. 石を置く
プレイヤーは交互に、1〜7の列番号を選んで石を落とします。

### 3. 重力の効果
選択した列の一番下の空いているマスに石が落ちます。これが「重力」の効果です。

```
例: 列3を選択した場合

投入前:               投入後:
│   │   │   │        │   │   │   │
│   │   │   │        │   │   │   │
│   │   │   │   →   │   │   │   │
│   │   │   │        │   │   │   │
│   │ × │   │        │   │ × │   │
│ ○ │ ○ │ × │        │ ○ │ ○ │ ★ │  ← ★=新しい石
```

### 4. 勝利判定
石を置いた後、以下のいずれかの方向で4つ連続しているかチェックします：

#### 横方向 ─
```
│ ○ │ ○ │ ○ │ ○ │  → 勝利！
```

#### 縦方向 │
```
│ ○ │
│ ○ │
│ ○ │
│ ○ │  → 勝利！
```

#### 斜め方向 ╲
```
│ ○ │   │   │   │
│   │ ○ │   │   │
│   │   │ ○ │   │
│   │   │   │ ○ │  → 勝利！
```

#### 斜め方向 ╱
```
│   │   │   │ ○ │
│   │   │ ○ │   │
│   │ ○ │   │   │
│ ○ │   │   │   │  → 勝利！
```

### 5. 引き分け
盤面がすべて埋まっても勝敗がつかない場合は引き分けです。
- 最大手数: 6行 × 7列 = 42手

## 🏆 戦略のヒント

### 初心者向け
1. **中央を取る**: 中央の列（4列目）を優先すると有利
2. **守りを意識**: 相手の3連続を見逃さない
3. **複数の脅威**: 2方向同時にリーチを作ると防ぎにくい

### 中級者向け
1. **奇数行戦略**: 先手は奇数行（1,3,5）に石を並べると有利
2. **トラップ**: 相手に置かせる位置をコントロール
3. **7の字**: 複数のリーチを同時に作る形

### 上級者向け
1. **完全解析**: 先手必勝のゲームだが、最善手を打ち続ける必要あり
2. **開放度理論**: 空きマスの数を考慮した評価
3. **脅威の連鎖**: 相手の脅威に対応しながら自分の脅威を増やす

## 🎨 このゲームの特徴

### UIの構成
- **盤面（中央）**: 石を表示するグリッド
- **ボタン（下部）**: 列選択ボタン（1〜7）
- **プレイヤー情報（左右）**: 各プレイヤーの画像・名前・説明
- **棋譜（下部）**: 対局の記録をスクロール表示

### 音声
- 石を落とすときに効果音が鳴ります

### 記録
- 対局終了後、棋譜が `log/` フォルダにテキストファイルとして保存されます

---

[← Getting Started](Getting-Started.md) | [Architecture Overview →](Architecture-Overview.md)
